<!DOCTYPE html>
<html>
	<head>
		<script>
		        fetch("https://ipapi.co/json/")
		                    .then(response => response.json())
		                    .then(data => {
		                        document.getElementById("ip").textContent =  data.ip;
								document.getElementById("location").textContent =  data.city + ", " + data.region + ", " + data.country;
							});
		    </script>
		<style>
			.image-text-wrapper {
			  text-align: left;
			  margin-left: 120px;
			}
			 
			.image-text-wrapper img {
			  float: right;
			  margin-right: 20px;
			}
		</style>
		<style>
		  
		  canvas {
		    display: block;
		  }
		  </style>
		<meta charset="utf-8" />
		<link rel="icon" href="anan.jpg">
		<title>这里是Anan~ ^O^</title>
		<link rel="stylesheet" href="./general.css"> 
		<link rel="stylesheet" href="./navigation.css"> 
		<link rel="stylesheet" href="./Toggle.css"> 
		<link rel="stylesheet" href="./Toggleup.css"> 
		<link rel="stylesheet" href="./backgrounds.css">
		<style>
		.right-align {
		  text-align: right;
		}
		</style>
	</head>
	<body>
		<div class="navigation">
			<div class="menuToggle"></div>
			<ul>
				<li class="list active">
					<a href="index.html" style="--clr:#f4866a;">
						<span class="icon">
							<i><img src="./打招呼.png" width="30" alt="首页" /></i>
						</span>
						<span class="text">首页</span>
					</a>
				</li>
				<li class="list">
					<a href="tools.html" style="--clr:#ffa117;">
						<span class="icon">
							<i><img src="./公告.png" width="30" alt="小工具" /></i>
						</span>
						<span class="text">小工具</span>
					</a>
				</li>
				<li class="list">
					<a href="code.html" style="--clr:#0fc70f;">
						<span class="icon">
							<i><img src="./关注.png" width="30" alt="模板代码" /></i>
						</span>
						<span class="text">模板代码</span>
					</a>
				</li>
				<li class="list">
					<a href="ilovelinanyu.html" style="--clr:#2196f3;">
						<span class="icon">
							<i><img src="./喜欢.png" width="30" alt="关于哥哥" /></i>
						</span>
						<span class="text">关于哥哥</span>
					</a>
				</li>
				<li class="list">
					<a href="passage.html" style="--clr:#b145e9;">
						<span class="icon">
							<i><img src="./礼物.png" width="30" alt="文案" /></i>
						</span>
						<span class="text">文案</span>
					</a>
				</li>
			</ul>
		</div>
		<script src="./active.js"></script>
		<script src="./changeactive.js"></script>
		<div class="container">
		    <div class="sidebar"></div>  
		    <div class="content">  
		        <!-- 主页内容 -->  
	
	<div style="display: flex; justify-content: space-between;">  
	  <span><h1 style="line-height: 1.5; color:mediumpurple">安安的个人网站</h1></span>  
	  <span><h2 id="time" style="color: mediumorchid"></h2></span>  
	</div>
		        
				<p style="line-height: 1.5; color:aqua">------------------------------------------------------------------------------------------------------------------------</p>
				  <br>
				  <p style="line-height: 1.5;">欢迎宝宝访问，Welcome~</p><br>
				  
				  <br><br>
				  <div class="image-text-wrapper">
				    <img src="picture.png" alt="安安" width="350">
					<br>
				    <h1 style="color: #b145e9"><font face="华文彩云">您好~ 让我来猜猜</font></h1><br>
					<font face="华文彩云"><h2 style="color: #facdba">您的IP地址是:</h2></font>
					<h3 id="ip" style="color: #7fb3d8"></h3><br>
					<font face="华文彩云"><h2 style="color: #f6b9c3">您的位置是:</h2></font>
					<h3 id="location" style="color: #7eb699"></h3><br>
					<font face="华文彩云"><h2 style="color: #deb8df">您的经纬度:</h2></font>
					<h3 id="ns" style="color: #fad773"></h3><br>
					<font face="华文彩云"><h2 style="color: #002fa7">您的操作系统是:</h2></font>
					<h3 id="os" style="color: #e60000"></h3><br>
				  </div>
		    </div>  
		</div> 
	</body>
</html>
<script>
        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition, showError);
            } else {
                document.getElementById("ns").innerHTML = "Geolocation is not supported by this browser.";
            }
        }
 
        function showPosition(position) {
            var latitude = position.coords.latitude;
            var longitude = position.coords.longitude;
            document.getElementById("ns").innerHTML = latitude + "° N , " 
             + longitude+"° E";
        }
 
        function showError(error) {
            switch(error.code) {
                case error.PERMISSION_DENIED:
                    document.getElementById("ns").innerHTML = "User denied the request for Geolocation."
                    break;
                case error.POSITION_UNAVAILABLE:
                    document.getElementById("ns").innerHTML = "Location information is unavailable."
                    break;
                case error.TIMEOUT:
                    document.getElementById("ns").innerHTML = "The request to get user location timed out."
                    break;
                case error.UNKNOWN_ERROR:
                    document.getElementById("ns").innerHTML = "An unknown error occurred."
                    break;
            }
        }
 
        getLocation();
  
	function displayTime() {  
	        var now = new Date();  
	        var hours = now.getHours();  
	        var minutes = now.getMinutes();  
	        var seconds = now.getSeconds();  
	        hours = hours < 10 ? '0' + hours : hours;  
	        minutes = minutes < 10 ? '0' + minutes : minutes;  
	        seconds = seconds < 10 ? '0' + seconds : seconds;  
	        document.getElementById('time').innerText = hours + ':' + minutes + ':' + seconds;  
	    }  
	
       function detectOS() {
                   var userAgent = navigator.userAgent || navigator.vendor || window.opera;
                   
                   if (userAgent.match(/windows/i)) {
                       return 'Windows';
                   }
                   else if (userAgent.match(/mac/i)) {
                       return 'Mac';
                   }
                   else if (userAgent.match(/linux/i)) {
                       return 'Linux';
                   }
                   else if (userAgent.match(/iphone/i)) {
                       return 'iOS';
                   }
                   else if (userAgent.match(/android/i)) {
                       return 'Android';
                   }
                   else {
                       return 'Unknown';
                   }
               }
 
 
         window.onload = function() {  
                getLocation(); // 调用地理位置函数  
                displayTime(); // 初始化时间显示  
                setInterval(displayTime, 1000); // 每秒更新时间  
                var OSName = detectOS();
                            document.getElementById('os').innerHTML =  OSName;}; // 调用浏览器检测函数  
    </script>
